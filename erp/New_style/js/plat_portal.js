var pos=location.href.indexOf(":");var sub1=location.href.substring(0,pos);var protocol=sub1.toLowerCase();var sub2=location.href.substring(pos+3);var pos2=sub2.indexOf("/");var serverHost=sub2.substring(0,pos2+1);var serverSURL="https://"+serverHost;var serverURL="http://"+serverHost;var win=null,theKey="";var httpRequest=null;var usernameEle=null,passwordEle=null,errMsgEle=null,savePwdEle=null,username="",password="",savePwd="",oriPwd="";function LoadCookies(){usernameEle=document.getElementById("username");passwordEle=document.getElementById("password");username=cookieManager.get("admin_username");usernameEle.value=username==null?"":username;usernameEle.select();usernameEle.focus()}function usernamePressEnter(a){if(a.keyCode==13){document.getElementById("password_text").style.display="none";var b=document.getElementById("password");b.style.display="block";b.focus();b.select()}}function passwordPressEnter(b){if(b.keyCode==13){var a=document.getElementById("submitBt");a.onclick()}}function Login(){usernameEle=document.getElementById("username");passwordEle=document.getElementById("password");try{if(window.ActiveXObject){try{httpRequest=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){httpRequest=new ActiveXObject("Microsoft.XMLHTTP")}}else{if(window.XMLHttpRequest){httpRequest=new XMLHttpRequest()}}if(httpRequest!=null){username=usernameEle.value;password=passwordEle.value;if(username=="用户名"||username==""){alert("请输入用户名.");var c=document.getElementById("username");c.focus();c.select();return}else{if(password==""){alert("无效密码, 请重新输入.");document.getElementById("password_text").style.display="none";var c=document.getElementById("password");c.style.display="block";c.focus();c.select();return}}var a=document.getElementById("password_text");if(a.style.display!="none"){alert("输入密码.");a.style.display="none";var c=document.getElementById("password");c.style.display="block";c.focus();c.select();return}document.body.style.cursor="wait";password=hex_sha1(password);httpRequest.onreadystatechange=LoginReply;httpRequest.open("post",(protocol=="http"?serverURL:serverSURL)+"plat/pc/main/");var f={cmd:"login",username:username,password:password};httpRequest.send(JSON.stringify(f))}else{alert("Failed to create communiation object.")}}catch(b){alert(b.message)}document.body.style.cursor="default"}var test="1";function LoginReply(){if(httpRequest.readyState==4){if(httpRequest.status==200){var l=JSON.parse(httpRequest.responseText);console.log(l);var g=l.status;if(g=="1"){try{var k=l.account_id;var c=l.staff_no;var h=l.staff_name;var i=l.key;var a=l.pris;cookieManager.set("admin_username",username,"30day");cookieManager.set("admin_id",k,"3day");cookieManager.set("admin_no",c,"3day");cookieManager.set("admin_name",h,"3day");cookieManager.set("admin_key",i,"3day");cookieManager.set("admin_pris",a,"3day");if(win!=null){win.close()}var d=screen.availWidth;var j=screen.availHeight;if(navigator.userAgent.indexOf("AppleWebKit")!=-1){if(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1){if(navigator.userAgent.indexOf("Mac OS")==-1){d=d-5}j=j-26}else{if(navigator.userAgent.indexOf("Chrome")!=-1){d=d-15;j=j-66}}}else{d-=10;j-=30}var b=(protocol=="http"?serverURL:serverSURL)+"pub/plat/main/account/index.htm";win=window.open(b,"_self","top=0,left=0,width="+d+",height="+j+",toolbar=no,location=no,directories=no,status=no,menubarbar=no,scrollbars=no,resizable=yes")}catch(f){alert("Error happened: "+f.message)}}else{if(g=="2"){alert("用户名或密码错误")}else{var e=l.msg;alert(e)}}document.body.style.cursor="default"}}else{}}var cookieManager={set:function(t,n,s){var o=arguments;var q=arguments.length;var r=new Date();var m=s.substring(s.length-3,s.length);var u=s.substring(0,s.length-3);if(m=="day"){r.setDate(r.getDate()+parseInt(u))}else{if(m=="min"){r.setTime(r.getTime()+(parseInt(u)*60*1000))}else{r.setDate(r.getDate()+10)}}var l=(q>3)?o[3]:"/";var p=(q>4)?o[4]:null;var v=(q>5)?o[5]:false;document.cookie=t+"="+n+((r===null)?"":("; expires="+r.toGMTString()))+((l===null)?"":("; path="+l))+((p===null)?"":("; domain="+p))+((v===true)?"; secure":"")},get:function(k){var g=k+"=";var i=g.length;var h=document.cookie.length;var j=0;var l=0;while(j<h){l=j+i;if(document.cookie.substring(j,l)==g){return cookieManager.getCookieVal(l)}j=document.cookie.indexOf(" ",j)+1;if(j==0){break}}return null},clear:function(f){if(cookieManager.get(f)){var h=new Date();h.setTime(h.getTime()-1);var i=(j>3)?g[3]:"/";var g=arguments;var j=arguments.length;document.cookie=f+"=; expires="+h.toGMTString()+"; path="+i}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length}return document.cookie.substring(c,d)}};eval(function(h,b,j,f,g,i){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(j--){i[g(j)]=f[j]||g(j)}f=[function(a){return i[a]}];g=function(){return"\\w+"};j=1}while(j--){if(f[j]){h=h.replace(new RegExp("\\b"+g(j)+"\\b","g"),f[j])}}return h}('7 R=0;7 1c=8;g X(s){9 S(O(C(s)))}g 10(){9 X("Z")=="Y"}g O(Q){7 x=Q;7 w=r(W);7 a=17;7 b=-18;7 c=-15;7 d=11;7 e=-12;l(7 i=0;i<x.m;i+=16){7 D=a;7 K=b;7 N=c;7 M=d;7 J=e;l(7 j=0;j<W;j++){n(j<16)w[j]=x[i+j];13 w[j]=o(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);7 t=f(f(o(a,5),G(j,b,c,d)),f(f(e,w[j]),H(j)));e=d;d=c;c=o(b,19);b=a;a=t}a=f(a,D);b=f(b,K);c=f(c,N);d=f(d,M);e=f(e,J)}9 V r(a,b,c,d,e)}g G(t,b,c,d){n(t<I)9(b&c)|((~b)&d);n(t<F)9 b^c^d;n(t<U)9(b&c)|(b&d)|(c&d);9 b^c^d}g H(t){9(t<I)?1h:(t<F)?1j:(t<U)?-1i:-1a}g f(x,y){7 u=(x&v)+(y&v);7 E=(x>>16)+(y>>16)+(u>>16);9(E<<16)|(u&v)}g o(B,z){9(B<<z)|(B>>>(1e-z))}g C(h){7 q=((h.m+8)>>6)+1,k=V r(q*16);l(7 i=0;i<q*16;i++)k[i]=0;l(i=0;i<h.m;i++)k[i>>2]|=h.1b(i)<<(P-(i&3)*8);k[i>>2]|=1f<<(P-(i&3)*8);k[q*16-1]=h.m*8;9 k}g S(p){7 A=R?"1g":"1d";7 h="";l(7 i=0;i<p.m*4;i++){h+=A.T((p[i>>2]>>((3-i%4)*8+4))&L)+A.T((p[i>>2]>>((3-i%4)*8))&L)}9 h}',62,82,"|||||||var||return||||||safe_add|function|str|||blks|for|length|if|rol|binarray|nblk|Array|||lsw|0xFFFF||||cnt|hex_tab|num|AlignSHA1|olda|msw|40|sha1_ft|sha1_kt|20|olde|oldb|0xF|oldd|oldc|core_sha1|24|blockArray|hexcase|binb2hex|charAt|60|new|80|hex_sha1|a9993e364706816aba3e25717850c26c9cd0d89d|abc|sha1_vm_test|271733878|1009589776|else||1732584194||1732584193|271733879|30|899497514|charCodeAt|chrsz|0123456789abcdef|32|0x80|0123456789ABCDEF|1518500249|1894007588|1859775393".split("|"),0,{}));